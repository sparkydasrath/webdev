{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/Dom.ts","src/ts/Effects.ts","src/ts/OperatorType.ts","src/ts/Ops.ts","src/ts/StringUtility.ts","src/ts/app.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","class Dom {\r\n    revealEffectContainer: HTMLElement | null | undefined;\r\n    buttonContainer: HTMLElement | null | undefined;\r\n    buttonContainers: NodeList | null | undefined;\r\n    resultDisplay: HTMLElement | null | undefined;\r\n    summaryDisplay: HTMLElement | null | undefined;\r\n}\r\n\r\nexport default Dom;\r\n","class Effect {\r\n    static reveal(element: HTMLElement, gradientBackground: string): void {\r\n        element.style.backgroundImage = gradientBackground;\r\n    }\r\n\r\n    static updateGradient(leftPositionX: number, topPositionY: number): string {\r\n        // let gradient = `radial-gradient(circle 50px at ${leftPositionX}px ${topPositionY}px, rgba(255,255,255,0.3), rgba(255,255,255,0)), radial-gradient(circle ${70}px at ${leftPositionX}px ${topPositionY}px, rgba(255,255,255,0), rgba(255,255,255,0.3), rgba(255,255,255,0), rgba(255,255,255,0))`;\r\n        let gradient = `radial-gradient(circle 50px at ${leftPositionX}px ${topPositionY}px, rgba(255,255,255,0.3), rgba(255,255,255,0))`;\r\n        return gradient;\r\n    }\r\n\r\n}\r\n\r\nexport default Effect;","export enum OperatorType {\r\n    None = \"\",\r\n    Add = \"Add\",\r\n    Subtract = \"Subtract\",\r\n    Multiply = \"Multiply\",\r\n    Divide = \"Divide\",\r\n    PlusMinus = \"PlusMinus\",\r\n    Equal = \"Equal\",\r\n    ClearEntry = \"ClearEntry\",\r\n    ClearAll = \"ClearAll\",\r\n    Backspace = \"Backspace\"\r\n}\r\n","import { IOps } from \"./interfaces/IOps\";\r\n\r\nclass Ops implements IOps {\r\n    add(x: number, y: number): number {\r\n        return x + y;\r\n    }\r\n    subtract(x: number, y: number): number {\r\n        return x - y;\r\n    }\r\n    multiply(x: number, y: number): number {\r\n        return x * y;\r\n    }\r\n    divide(x: number, y: number): number {\r\n        if (y === 0) return 0;\r\n        return x / y;\r\n    }\r\n    plusMinus(x: number): number {\r\n        return (-1) * x;\r\n    }\r\n}\r\n\r\nexport default Ops;","export class StringUtility {\r\n    public static replaceAt(oringalString: string, replacementString: string, position: number): string {\r\n        let origAsArray = oringalString.split(\"\");\r\n        origAsArray[position] = replacementString;\r\n        let finalString = origAsArray.join(\"\");\r\n        return finalString;\r\n    }\r\n}\r\n","import Ops from \"./Ops\";\r\nimport Dom from \"./Dom\";\r\nimport { StringUtility } from \"./StringUtility\";\r\nimport { OperatorType } from \"./OperatorType\";\r\nimport Effect from \"./Effects\";\r\n\r\nconst MaxDisplayLength: number = 13;\r\n\r\nclass MainView {\r\n\r\n    clickEvent: string = \"click\";\r\n    mouseMoveEvent: string = \"mousemove\";\r\n    revealEffectContainerClassName: string = \".outer-wrapper\";\r\n    buttonContainerClassName: string = \".btn-container\";\r\n    resultDisplayClassName: string = \".result-display\";\r\n    summaryDisplayClassName: string = \".summary-display\";\r\n\r\n    leftAsString: string = \"\";\r\n    left: number = 0;\r\n    right: number = 0;\r\n    rightAsString: string = \"\";\r\n    total: number = 0;\r\n    opType: OperatorType = OperatorType.None;\r\n    opTypeHtml: string = \"\";\r\n    useLeftForSummary: boolean = true;\r\n    opPressedCount: number = 0;\r\n\r\n    private dom: Dom = new Dom();\r\n    private ops: Ops = new Ops();\r\n\r\n    private cacheDom(): void {\r\n        this.dom.revealEffectContainer = <HTMLElement>document.querySelector(this.revealEffectContainerClassName);\r\n        this.dom.buttonContainer = <HTMLElement>document.querySelector(this.buttonContainerClassName);\r\n        this.dom.buttonContainers = <NodeList>document.querySelectorAll(this.buttonContainerClassName);\r\n        this.dom.summaryDisplay = <HTMLElement>document.querySelector(this.summaryDisplayClassName);\r\n        this.dom.resultDisplay = <HTMLElement>document.querySelector(this.resultDisplayClassName);\r\n    }\r\n\r\n    public bindEvents() {\r\n        if (this.dom.revealEffectContainer !== null && this.dom.revealEffectContainer !== undefined) {\r\n            this.dom.revealEffectContainer.addEventListener(this.mouseMoveEvent, this.handleRevalContainerMouseMove);\r\n        }\r\n\r\n        if (this.dom.buttonContainer !== null && this.dom.buttonContainer !== undefined) {\r\n            this.dom.buttonContainer.addEventListener(this.clickEvent, this.handleBtnContainerClick);\r\n        }\r\n    }\r\n\r\n    public handleRevalContainerMouseMove = (event: Event): void => {\r\n        if (this.dom.buttonContainer === null ||\r\n            this.dom.buttonContainer === undefined) {\r\n            return;\r\n        }\r\n\r\n        let bcr = this.dom.buttonContainer.getBoundingClientRect();\r\n\r\n        console.log(`bcRect:${bcr.left}-${bcr.top}, cx:${(<MouseEvent>event).clientX}, cy:${(<MouseEvent>event).clientY}`);\r\n\r\n        Effect.reveal(this.dom.buttonContainer, Effect.updateGradient((<MouseEvent>event).clientX - bcr.left, (<MouseEvent>event).clientY - bcr.top));\r\n\r\n\r\n        // let children = this.dom.buttonContainer.children;\r\n\r\n        // if (children.length <= 0) return;\r\n\r\n        // for (let i = 0; i < children.length; i++) {\r\n        //     const bc = children[i];\r\n\r\n        //     let clientRect = bc.getBoundingClientRect();\r\n        //     let top = clientRect.top + document.body.scrollTop;\r\n        //     let left = clientRect.left + document.body.scrollLeft;\r\n        //     let x = (<MouseEvent>event).clientX - left;\r\n        //     let y = (<MouseEvent>event).clientY - top;\r\n\r\n        //     // console.log(`left: ${left}, top: ${top}, x:${x}, y:${y}, cRL:${(<MouseEvent>event).clientX}, cRT:${(<MouseEvent>event).clientY}, cx:${(<MouseEvent>event).clientX}, cy:${(<MouseEvent>event).clientY}`);\r\n        //     console.log(`${(<MouseEvent>event).clientX + x}, ${(<MouseEvent>event).clientX + y}`);\r\n\r\n        //     Effect.reveal(this.dom.buttonContainer, Effect.updateGradient((<MouseEvent>event).clientX + x, (<MouseEvent>event).clientY) + y);\r\n        // }\r\n    }\r\n\r\n    public handleBtnContainerClick = (event: Event): void => {\r\n        // had to do the event handler this way in order to pass along the correct 'this'\r\n        //  context to it\r\n        // see: https://stackoverflow.com/questions/18423410/typescript-retain-scope-in-event-listener\r\n        let srcButton = <HTMLButtonElement>event.srcElement;\r\n        if (srcButton === null || srcButton === undefined) {\r\n            console.error(\"Can't find the button that was clicked\");\r\n            return;\r\n        }\r\n\r\n        let srcButtonValue = srcButton.innerHTML;\r\n        let clearData: string | null = srcButton.getAttribute(\"data-opClear\");\r\n        if ((srcButtonValue >= \"0\" && srcButtonValue <= \"9\") || srcButtonValue === \".\")\r\n            this.handleNumberButtonPressed(srcButtonValue);\r\n        else if (clearData !== null) {\r\n            this.handleClear(clearData);\r\n        }\r\n        else {\r\n            // get the data that knows what operator button was pressed \r\n            this.opTypeHtml = srcButtonValue;\r\n            this.handleOperatorButtonPressed(srcButton.getAttribute(\"data-opType\"), srcButtonValue);\r\n        };\r\n    }\r\n\r\n    private handleOperatorButtonPressed(opPressed: string | null, htmlContentOfOp: string): void {\r\n\r\n        this.opPressedCount++;\r\n\r\n        if (opPressed === null) {\r\n            console.error(\"Operation selected is null\");\r\n            return;\r\n        }\r\n        else if (opPressed === OperatorType.Equal) {\r\n            this.computeTotal();\r\n            this.useLeftForSummary = true;\r\n            this.updateViewPipeline(true, htmlContentOfOp);\r\n            return;\r\n        }\r\n\r\n        else if (opPressed == OperatorType.PlusMinus) {\r\n            this.opPressedCount--;\r\n            this.handlePlusMinusCase();\r\n            return;\r\n        }\r\n\r\n        else if (this.opType === OperatorType.None) {\r\n            this.opType = <OperatorType>opPressed;\r\n            this.updateSummaryDisplay(htmlContentOfOp);\r\n            return;\r\n        }\r\n\r\n        else {\r\n            this.computeTotal();\r\n            this.opType = <OperatorType>opPressed;\r\n            this.updateViewPipeline(false, htmlContentOfOp);\r\n            return;\r\n        }\r\n    }\r\n\r\n    private updateViewPipeline(canClearSummaryDisplay: boolean, htmlContentOfOp: string) {\r\n        if (canClearSummaryDisplay) {\r\n            this.clearSummaryDisplay();\r\n        }\r\n        else {\r\n            this.updateSummaryDisplay(htmlContentOfOp);\r\n        }\r\n\r\n        this.updateLeftAndRightValues();\r\n        this.displayResult();\r\n    }\r\n\r\n    private handlePlusMinusCase(): void {\r\n        if (this.dom.resultDisplay === null || this.dom.resultDisplay === undefined) {\r\n            console.error(\"handlePlusMinusCase(): Unable to find results display\");\r\n            return;\r\n        }\r\n\r\n        let currentDisplay = this.dom.resultDisplay.innerHTML;\r\n        let convertedToNumber = Number(currentDisplay)\r\n        let pmResult = this.ops.plusMinus(convertedToNumber);\r\n\r\n        if (this.useLeftForSummary) {\r\n            this.leftAsString = pmResult.toString();\r\n        }\r\n        else {\r\n            this.rightAsString = pmResult.toString();\r\n        }\r\n\r\n        this.dom.resultDisplay.innerHTML = pmResult.toString();\r\n    }\r\n\r\n    private computeTotal(): void {\r\n        this.left = Number(this.leftAsString);\r\n        this.right = Number(this.rightAsString);\r\n\r\n        if (this.left === 0 && this.right === 0) return;\r\n\r\n        switch (this.opType) {\r\n            case (OperatorType.None): {\r\n                break;\r\n            }\r\n            case (OperatorType.Add): {\r\n                this.total = this.ops.add(this.left, this.right);\r\n                break;\r\n            }\r\n            case (OperatorType.Subtract): {\r\n                this.total = this.ops.subtract(this.left, this.right);\r\n                break;\r\n            }\r\n            case (OperatorType.Multiply): {\r\n                this.total = this.ops.multiply(this.left, this.right);\r\n                break;\r\n            }\r\n            case (OperatorType.Divide): {\r\n                this.total = this.ops.divide(this.left, this.right);\r\n                break;\r\n            }\r\n\r\n            default: {\r\n                console.log(`Operator ${this.opType} is not defined`);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private trimmedDisplay(stringToTrim: string, noOfPlacesToKeep: number) {\r\n        return stringToTrim.substr(0, noOfPlacesToKeep);\r\n    }\r\n\r\n    private displayResult(): void {\r\n        if (this.dom.resultDisplay !== null && this.dom.resultDisplay !== undefined) {\r\n            this.dom.resultDisplay.textContent = this.trimmedDisplay(`${this.total}`, MaxDisplayLength);\r\n        }\r\n    }\r\n\r\n    private displayLeft(): void {\r\n        if (this.dom.resultDisplay !== null && this.dom.resultDisplay !== undefined) {\r\n            this.dom.resultDisplay.textContent = this.trimmedDisplay(this.leftAsString, MaxDisplayLength);\r\n        }\r\n    }\r\n\r\n    private displayRight(): void {\r\n        if (this.dom.resultDisplay !== null && this.dom.resultDisplay !== undefined) {\r\n            this.dom.resultDisplay.textContent = this.trimmedDisplay(this.rightAsString, MaxDisplayLength);\r\n        }\r\n    }\r\n\r\n    private clearSummaryDisplay(): void {\r\n\r\n        if (this.dom.summaryDisplay === null || this.dom.summaryDisplay === undefined) {\r\n            console.log(\"checkSummaryDisplayForNullOrUndefined(): Summary display is null or undefined\");\r\n            return;\r\n        }\r\n\r\n        else {\r\n            this.dom.summaryDisplay.innerHTML = \"\";\r\n            this.useLeftForSummary = true;\r\n            this.opPressedCount = 0;\r\n        }\r\n    }\r\n\r\n    private updateSummaryDisplay(opPressedHtml: string): void {\r\n        if (this.dom.summaryDisplay === null || this.dom.summaryDisplay === undefined) {\r\n            console.error(\"Unable to populate summary value\");\r\n            return;\r\n        }\r\n\r\n        if (this.opPressedCount > 1) {\r\n            this.partialSummaryDisplayUpdate(opPressedHtml);\r\n            return;\r\n        }\r\n\r\n        if (this.useLeftForSummary) {\r\n            this.fullLeftSummaryDisplayUpdate();\r\n            this.useLeftForSummary = false;\r\n        }\r\n        else {\r\n            this.fullRightSummaryDisplayUpdate();\r\n        }\r\n    }\r\n\r\n    private fullLeftSummaryDisplayUpdate(): void {\r\n        if (this.dom.summaryDisplay === null || this.dom.summaryDisplay === undefined) {\r\n            console.error(\"fullSummaryDisplayUpdate(): Unable to do a full summary display update\");\r\n            return;\r\n        }\r\n        this.dom.summaryDisplay.innerHTML += this.leftAsString + \" \" + this.opTypeHtml + \" \";\r\n    }\r\n\r\n    private fullRightSummaryDisplayUpdate(): void {\r\n        if (this.dom.summaryDisplay === null || this.dom.summaryDisplay === undefined) {\r\n            console.error(\"fullSummaryDisplayUpdate(): Unable to do a full summary display update\");\r\n            return;\r\n        }\r\n        this.dom.summaryDisplay.innerHTML += this.rightAsString + \" \" + this.opTypeHtml + \" \";\r\n    }\r\n\r\n    private partialSummaryDisplayUpdate(opPressedHtml: string): void {\r\n        if (this.dom.summaryDisplay === null || this.dom.summaryDisplay === undefined) {\r\n            console.error(\"partialSummaryDisplayUpdate(): Unable to do a partial summary display update\");\r\n            return;\r\n        }\r\n        let replaced = this.replaceLastDisplayedOperatorWithCurrentOne(this.dom.summaryDisplay.innerHTML, opPressedHtml);\r\n        this.dom.summaryDisplay.innerHTML = replaced;\r\n    }\r\n\r\n    private replaceLastDisplayedOperatorWithCurrentOne(valueToModify: string, replacementValue: string): string {\r\n        let currentDisplay = StringUtility.replaceAt(valueToModify, replacementValue, valueToModify.length - 2);\r\n        return currentDisplay;\r\n    }\r\n\r\n    private updateLeftAndRightValues() {\r\n        this.leftAsString = this.total.toString();\r\n        this.left = this.total;\r\n        this.rightAsString = \"\";\r\n        this.right = 0;\r\n        this.opPressedCount = 0;\r\n    }\r\n\r\n    private handleNumberButtonPressed(pressedNumber: string): void {\r\n        this.opPressedCount = 0;\r\n\r\n        if (this.leftAsString === \"\" || this.opType === OperatorType.None) {\r\n            this.leftAsString += pressedNumber;\r\n            this.displayLeft();\r\n        }\r\n        else {\r\n            this.rightAsString += pressedNumber;\r\n            this.displayRight();\r\n        }\r\n    }\r\n\r\n    public handleClear(clearData: string | null): void {\r\n        if (clearData === <OperatorType>OperatorType.ClearAll) {\r\n            this.clearSummaryAndResultDisplay();\r\n            return;\r\n        }\r\n        if (clearData === <OperatorType>OperatorType.ClearEntry) {\r\n            this.clearResultDisplay();\r\n            return;\r\n        }\r\n        if (clearData === <OperatorType>OperatorType.Backspace) {\r\n            this.performBackspaceOnCurrentEntry();\r\n            return;\r\n        }\r\n    }\r\n\r\n    private clearSummaryAndResultDisplay(): void {\r\n\r\n        if (this.dom.summaryDisplay === null ||\r\n            this.dom.summaryDisplay === undefined ||\r\n            this.dom.resultDisplay === null ||\r\n            this.dom.resultDisplay === undefined) {\r\n            console.error(\"clearSummaryAndResultDisplay(): summaryDisplay or resultDisplay is null or undefined (bleh)\")\r\n            return;\r\n        }\r\n        this.dom.summaryDisplay.innerHTML = \"\"\r\n        this.dom.resultDisplay.innerHTML = \"0\"\r\n\r\n        this.leftAsString = \"\";\r\n        this.left = 0;\r\n        this.rightAsString = \"\";\r\n        this.right = 0;\r\n        this.useLeftForSummary = true;\r\n        this.opPressedCount = 0;\r\n    }\r\n\r\n    private clearResultDisplay(): void {\r\n        if (this.dom.resultDisplay === null ||\r\n            this.dom.resultDisplay === undefined) {\r\n            console.error(\"clearResultDisplay(): resultDisplay is null or undefined (bleh)\")\r\n            return;\r\n        }\r\n        this.dom.resultDisplay.innerHTML = \"0\"\r\n        this.rightAsString = \"\";\r\n        this.right = 0;\r\n    }\r\n\r\n    private performBackspaceOnCurrentEntry(): void {\r\n        if (this.dom.resultDisplay === null ||\r\n            this.dom.resultDisplay === undefined) {\r\n            console.error(\"performBackspaceOnCurrentEntry(): resultDisplay is null or undefined (bleh)\")\r\n            return;\r\n        }\r\n\r\n        if (this.dom.resultDisplay.innerHTML.length === 1) {\r\n            this.dom.resultDisplay.innerHTML = \"0\";\r\n            if (this.useLeftForSummary) {\r\n                this.leftAsString = \"0\";\r\n            }\r\n            else {\r\n                this.rightAsString = \"0\";\r\n            }\r\n            return;\r\n        }\r\n\r\n        let currentResult = this.dom.resultDisplay.innerHTML;\r\n        let backspacedResult = StringUtility.replaceAt(currentResult, \"\", currentResult.length - 1).trim();\r\n        if (this.useLeftForSummary) {\r\n            this.leftAsString = backspacedResult;\r\n        }\r\n        else {\r\n            this.rightAsString = backspacedResult;\r\n        }\r\n        this.dom.resultDisplay.innerHTML = backspacedResult;\r\n    }\r\n\r\n    private initResultToZero(): void {\r\n        if (this.dom.resultDisplay === null ||\r\n            this.dom.resultDisplay === undefined) {\r\n            console.error(\"initResultToZero(): resultDisplay is null or undefined (bleh)\")\r\n            return;\r\n        }\r\n        this.dom.resultDisplay.innerHTML = \"0\";\r\n    }\r\n\r\n    public init() {\r\n        this.cacheDom();\r\n        this.bindEvents();\r\n        this.initResultToZero();\r\n    }\r\n}\r\n\r\n(function () {\r\n    let main = new MainView();\r\n    main.init()\r\n}());"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvRG9tLnRzIiwic3JjL3RzL0VmZmVjdHMudHMiLCJzcmMvdHMvT3BlcmF0b3JUeXBlLnRzIiwic3JjL3RzL09wcy50cyIsInNyYy90cy9TdHJpbmdVdGlsaXR5LnRzIiwic3JjL3RzL2FwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Q0FNQztBQUVELGtCQUFlLEdBQUcsQ0FBQzs7OztBQ1JuQjtJQUNJLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBb0IsRUFBRSxrQkFBMEI7UUFDMUQsT0FBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsa0JBQWtCLENBQUM7SUFDdkQsQ0FBQztJQUVELE1BQU0sQ0FBQyxjQUFjLENBQUMsYUFBcUIsRUFBRSxZQUFvQjtRQUM3RCxvU0FBb1M7UUFDcFMsSUFBSSxRQUFRLEdBQUcsa0NBQWtDLGFBQWEsTUFBTSxZQUFZLGlEQUFpRCxDQUFDO1FBQ2xJLE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7Q0FFSjtBQUVELGtCQUFlLE1BQU0sQ0FBQzs7OztBQ2J0QixJQUFZLFlBV1g7QUFYRCxXQUFZLFlBQVk7SUFDcEIseUJBQVMsQ0FBQTtJQUNULDJCQUFXLENBQUE7SUFDWCxxQ0FBcUIsQ0FBQTtJQUNyQixxQ0FBcUIsQ0FBQTtJQUNyQixpQ0FBaUIsQ0FBQTtJQUNqQix1Q0FBdUIsQ0FBQTtJQUN2QiwrQkFBZSxDQUFBO0lBQ2YseUNBQXlCLENBQUE7SUFDekIscUNBQXFCLENBQUE7SUFDckIsdUNBQXVCLENBQUE7QUFDM0IsQ0FBQyxFQVhXLFlBQVksR0FBWixvQkFBWSxLQUFaLG9CQUFZLFFBV3ZCOzs7O0FDVEQ7SUFDSSxHQUFHLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxRQUFRLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDekIsT0FB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U0FDVjtRQUVELElBQUksYUFBYSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQztRQUNyRCxJQUFJLGdCQUFnQixHQUFHLDZCQUFhLENBQUMsU0FBUyxDQUFDLGFBQWEsRUFBRSxFQUFFLEVBQUUsYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNuRyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtZQUN4QixJQUFJLENBQUMsWUFBWSxHQUFHLGdCQUFnQixDQUFDO1NBQ3hDO2FBQ0k7WUFDRCxJQUFJLENBQUMsYUFBYSxHQUFHLGdCQUFnQixDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDO0lBQ3hELENBQUM7SUFFTyxnQkFBZ0I7UUFDcEIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsS0FBSyxJQUFJO1lBQy9CLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxLQUFLLFNBQVMsRUFBRTtZQUN0QyxPQUFPLENBQUMsS0FBSyxDQUFDLCtEQUErRCxDQUFDLENBQUE7WUFDOUUsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztJQUMzQyxDQUFDO0lBRU0sSUFBSTtRQUNQLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDNUIsQ0FBQztDQUNKO0FBRUQsQ0FBQztJQUNHLElBQUksSUFBSSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7SUFDMUIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFBO0FBQ2YsQ0FBQyxFQUFFLENBQUMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImNsYXNzIERvbSB7XHJcbiAgICByZXZlYWxFZmZlY3RDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuICAgIGJ1dHRvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gICAgYnV0dG9uQ29udGFpbmVyczogTm9kZUxpc3QgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gICAgcmVzdWx0RGlzcGxheTogSFRNTEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gICAgc3VtbWFyeURpc3BsYXk6IEhUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRG9tO1xyXG4iLCJjbGFzcyBFZmZlY3Qge1xyXG4gICAgc3RhdGljIHJldmVhbChlbGVtZW50OiBIVE1MRWxlbWVudCwgZ3JhZGllbnRCYWNrZ3JvdW5kOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGdyYWRpZW50QmFja2dyb3VuZDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdXBkYXRlR3JhZGllbnQobGVmdFBvc2l0aW9uWDogbnVtYmVyLCB0b3BQb3NpdGlvblk6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gbGV0IGdyYWRpZW50ID0gYHJhZGlhbC1ncmFkaWVudChjaXJjbGUgNTBweCBhdCAke2xlZnRQb3NpdGlvblh9cHggJHt0b3BQb3NpdGlvbll9cHgsIHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwgcmdiYSgyNTUsMjU1LDI1NSwwKSksIHJhZGlhbC1ncmFkaWVudChjaXJjbGUgJHs3MH1weCBhdCAke2xlZnRQb3NpdGlvblh9cHggJHt0b3BQb3NpdGlvbll9cHgsIHJnYmEoMjU1LDI1NSwyNTUsMCksIHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwgcmdiYSgyNTUsMjU1LDI1NSwwKSwgcmdiYSgyNTUsMjU1LDI1NSwwKSlgO1xyXG4gICAgICAgIGxldCBncmFkaWVudCA9IGByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIDUwcHggYXQgJHtsZWZ0UG9zaXRpb25YfXB4ICR7dG9wUG9zaXRpb25ZfXB4LCByZ2JhKDI1NSwyNTUsMjU1LDAuMyksIHJnYmEoMjU1LDI1NSwyNTUsMCkpYDtcclxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFZmZlY3Q7IiwiZXhwb3J0IGVudW0gT3BlcmF0b3JUeXBlIHtcclxuICAgIE5vbmUgPSBcIlwiLFxyXG4gICAgQWRkID0gXCJBZGRcIixcclxuICAgIFN1YnRyYWN0ID0gXCJTdWJ0cmFjdFwiLFxyXG4gICAgTXVsdGlwbHkgPSBcIk11bHRpcGx5XCIsXHJcbiAgICBEaXZpZGUgPSBcIkRpdmlkZVwiLFxyXG4gICAgUGx1c01pbnVzID0gXCJQbHVzTWludXNcIixcclxuICAgIEVxdWFsID0gXCJFcXVhbFwiLFxyXG4gICAgQ2xlYXJFbnRyeSA9IFwiQ2xlYXJFbnRyeVwiLFxyXG4gICAgQ2xlYXJBbGwgPSBcIkNsZWFyQWxsXCIsXHJcbiAgICBCYWNrc3BhY2UgPSBcIkJhY2tzcGFjZVwiXHJcbn1cclxuIiwiaW1wb3J0IHsgSU9wcyB9IGZyb20gXCIuL2ludGVyZmFjZXMvSU9wc1wiO1xyXG5cclxuY2xhc3MgT3BzIGltcGxlbWVudHMgSU9wcyB7XHJcbiAgICBhZGQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB4ICsgeTtcclxuICAgIH1cclxuICAgIHN1YnRyYWN0KHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4geCAtIHk7XHJcbiAgICB9XHJcbiAgICBtdWx0aXBseSh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHggKiB5O1xyXG4gICAgfVxyXG4gICAgZGl2aWRlKHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAoeSA9PT0gMCkgcmV0dXJuIDA7XHJcbiAgICAgICAgcmV0dXJuIHggLyB5O1xyXG4gICAgfVxyXG4gICAgcGx1c01pbnVzKHg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuICgtMSkgKiB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBPcHM7IiwiZXhwb3J0IGNsYXNzIFN0cmluZ1V0aWxpdHkge1xyXG4gICAgcHVibGljIHN0YXRpYyByZXBsYWNlQXQob3JpbmdhbFN0cmluZzogc3RyaW5nLCByZXBsYWNlbWVudFN0cmluZzogc3RyaW5nLCBwb3NpdGlvbjogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgb3JpZ0FzQXJyYXkgPSBvcmluZ2FsU3RyaW5nLnNwbGl0KFwiXCIpO1xyXG4gICAgICAgIG9yaWdBc0FycmF5W3Bvc2l0aW9uXSA9IHJlcGxhY2VtZW50U3RyaW5nO1xyXG4gICAgICAgIGxldCBmaW5hbFN0cmluZyA9IG9yaWdBc0FycmF5LmpvaW4oXCJcIik7XHJcbiAgICAgICAgcmV0dXJuIGZpbmFsU3RyaW5nO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBPcHMgZnJvbSBcIi4vT3BzXCI7XHJcbmltcG9ydCBEb20gZnJvbSBcIi4vRG9tXCI7XHJcbmltcG9ydCB7IFN0cmluZ1V0aWxpdHkgfSBmcm9tIFwiLi9TdHJpbmdVdGlsaXR5XCI7XHJcbmltcG9ydCB7IE9wZXJhdG9yVHlwZSB9IGZyb20gXCIuL09wZXJhdG9yVHlwZVwiO1xyXG5pbXBvcnQgRWZmZWN0IGZyb20gXCIuL0VmZmVjdHNcIjtcclxuXHJcbmNvbnN0IE1heERpc3BsYXlMZW5ndGg6IG51bWJlciA9IDEzO1xyXG5cclxuY2xhc3MgTWFpblZpZXcge1xyXG5cclxuICAgIGNsaWNrRXZlbnQ6IHN0cmluZyA9IFwiY2xpY2tcIjtcclxuICAgIG1vdXNlTW92ZUV2ZW50OiBzdHJpbmcgPSBcIm1vdXNlbW92ZVwiO1xyXG4gICAgcmV2ZWFsRWZmZWN0Q29udGFpbmVyQ2xhc3NOYW1lOiBzdHJpbmcgPSBcIi5vdXRlci13cmFwcGVyXCI7XHJcbiAgICBidXR0b25Db250YWluZXJDbGFzc05hbWU6IHN0cmluZyA9IFwiLmJ0bi1jb250YWluZXJcIjtcclxuICAgIHJlc3VsdERpc3BsYXlDbGFzc05hbWU6IHN0cmluZyA9IFwiLnJlc3VsdC1kaXNwbGF5XCI7XHJcbiAgICBzdW1tYXJ5RGlzcGxheUNsYXNzTmFtZTogc3RyaW5nID0gXCIuc3VtbWFyeS1kaXNwbGF5XCI7XHJcblxyXG4gICAgbGVmdEFzU3RyaW5nOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgbGVmdDogbnVtYmVyID0gMDtcclxuICAgIHJpZ2h0OiBudW1iZXIgPSAwO1xyXG4gICAgcmlnaHRBc1N0cmluZzogc3RyaW5nID0gXCJcIjtcclxuICAgIHRvdGFsOiBudW1iZXIgPSAwO1xyXG4gICAgb3BUeXBlOiBPcGVyYXRvclR5cGUgPSBPcGVyYXRvclR5cGUuTm9uZTtcclxuICAgIG9wVHlwZUh0bWw6IHN0cmluZyA9IFwiXCI7XHJcbiAgICB1c2VMZWZ0Rm9yU3VtbWFyeTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBvcFByZXNzZWRDb3VudDogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIGRvbTogRG9tID0gbmV3IERvbSgpO1xyXG4gICAgcHJpdmF0ZSBvcHM6IE9wcyA9IG5ldyBPcHMoKTtcclxuXHJcbiAgICBwcml2YXRlIGNhY2hlRG9tKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZG9tLnJldmVhbEVmZmVjdENvbnRhaW5lciA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMucmV2ZWFsRWZmZWN0Q29udGFpbmVyQ2xhc3NOYW1lKTtcclxuICAgICAgICB0aGlzLmRvbS5idXR0b25Db250YWluZXIgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmJ1dHRvbkNvbnRhaW5lckNsYXNzTmFtZSk7XHJcbiAgICAgICAgdGhpcy5kb20uYnV0dG9uQ29udGFpbmVycyA9IDxOb2RlTGlzdD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuYnV0dG9uQ29udGFpbmVyQ2xhc3NOYW1lKTtcclxuICAgICAgICB0aGlzLmRvbS5zdW1tYXJ5RGlzcGxheSA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc3VtbWFyeURpc3BsYXlDbGFzc05hbWUpO1xyXG4gICAgICAgIHRoaXMuZG9tLnJlc3VsdERpc3BsYXkgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnJlc3VsdERpc3BsYXlDbGFzc05hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRXZlbnRzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRvbS5yZXZlYWxFZmZlY3RDb250YWluZXIgIT09IG51bGwgJiYgdGhpcy5kb20ucmV2ZWFsRWZmZWN0Q29udGFpbmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kb20ucmV2ZWFsRWZmZWN0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5tb3VzZU1vdmVFdmVudCwgdGhpcy5oYW5kbGVSZXZhbENvbnRhaW5lck1vdXNlTW92ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kb20uYnV0dG9uQ29udGFpbmVyICE9PSBudWxsICYmIHRoaXMuZG9tLmJ1dHRvbkNvbnRhaW5lciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLmJ1dHRvbkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKHRoaXMuY2xpY2tFdmVudCwgdGhpcy5oYW5kbGVCdG5Db250YWluZXJDbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYW5kbGVSZXZhbENvbnRhaW5lck1vdXNlTW92ZSA9IChldmVudDogRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kb20uYnV0dG9uQ29udGFpbmVyID09PSBudWxsIHx8XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLmJ1dHRvbkNvbnRhaW5lciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBiY3IgPSB0aGlzLmRvbS5idXR0b25Db250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBiY1JlY3Q6JHtiY3IubGVmdH0tJHtiY3IudG9wfSwgY3g6JHsoPE1vdXNlRXZlbnQ+ZXZlbnQpLmNsaWVudFh9LCBjeTokeyg8TW91c2VFdmVudD5ldmVudCkuY2xpZW50WX1gKTtcclxuXHJcbiAgICAgICAgRWZmZWN0LnJldmVhbCh0aGlzLmRvbS5idXR0b25Db250YWluZXIsIEVmZmVjdC51cGRhdGVHcmFkaWVudCgoPE1vdXNlRXZlbnQ+ZXZlbnQpLmNsaWVudFggLSBiY3IubGVmdCwgKDxNb3VzZUV2ZW50PmV2ZW50KS5jbGllbnRZIC0gYmNyLnRvcCkpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gbGV0IGNoaWxkcmVuID0gdGhpcy5kb20uYnV0dG9uQ29udGFpbmVyLmNoaWxkcmVuO1xyXG5cclxuICAgICAgICAvLyBpZiAoY2hpbGRyZW4ubGVuZ3RoIDw9IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICBjb25zdCBiYyA9IGNoaWxkcmVuW2ldO1xyXG5cclxuICAgICAgICAvLyAgICAgbGV0IGNsaWVudFJlY3QgPSBiYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAvLyAgICAgbGV0IHRvcCA9IGNsaWVudFJlY3QudG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XHJcbiAgICAgICAgLy8gICAgIGxldCBsZWZ0ID0gY2xpZW50UmVjdC5sZWZ0ICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O1xyXG4gICAgICAgIC8vICAgICBsZXQgeCA9ICg8TW91c2VFdmVudD5ldmVudCkuY2xpZW50WCAtIGxlZnQ7XHJcbiAgICAgICAgLy8gICAgIGxldCB5ID0gKDxNb3VzZUV2ZW50PmV2ZW50KS5jbGllbnRZIC0gdG9wO1xyXG5cclxuICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coYGxlZnQ6ICR7bGVmdH0sIHRvcDogJHt0b3B9LCB4OiR7eH0sIHk6JHt5fSwgY1JMOiR7KDxNb3VzZUV2ZW50PmV2ZW50KS5jbGllbnRYfSwgY1JUOiR7KDxNb3VzZUV2ZW50PmV2ZW50KS5jbGllbnRZfSwgY3g6JHsoPE1vdXNlRXZlbnQ+ZXZlbnQpLmNsaWVudFh9LCBjeTokeyg8TW91c2VFdmVudD5ldmVudCkuY2xpZW50WX1gKTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coYCR7KDxNb3VzZUV2ZW50PmV2ZW50KS5jbGllbnRYICsgeH0sICR7KDxNb3VzZUV2ZW50PmV2ZW50KS5jbGllbnRYICsgeX1gKTtcclxuXHJcbiAgICAgICAgLy8gICAgIEVmZmVjdC5yZXZlYWwodGhpcy5kb20uYnV0dG9uQ29udGFpbmVyLCBFZmZlY3QudXBkYXRlR3JhZGllbnQoKDxNb3VzZUV2ZW50PmV2ZW50KS5jbGllbnRYICsgeCwgKDxNb3VzZUV2ZW50PmV2ZW50KS5jbGllbnRZKSArIHkpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGFuZGxlQnRuQ29udGFpbmVyQ2xpY2sgPSAoZXZlbnQ6IEV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gaGFkIHRvIGRvIHRoZSBldmVudCBoYW5kbGVyIHRoaXMgd2F5IGluIG9yZGVyIHRvIHBhc3MgYWxvbmcgdGhlIGNvcnJlY3QgJ3RoaXMnXHJcbiAgICAgICAgLy8gIGNvbnRleHQgdG8gaXRcclxuICAgICAgICAvLyBzZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4NDIzNDEwL3R5cGVzY3JpcHQtcmV0YWluLXNjb3BlLWluLWV2ZW50LWxpc3RlbmVyXHJcbiAgICAgICAgbGV0IHNyY0J1dHRvbiA9IDxIVE1MQnV0dG9uRWxlbWVudD5ldmVudC5zcmNFbGVtZW50O1xyXG4gICAgICAgIGlmIChzcmNCdXR0b24gPT09IG51bGwgfHwgc3JjQnV0dG9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbid0IGZpbmQgdGhlIGJ1dHRvbiB0aGF0IHdhcyBjbGlja2VkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgc3JjQnV0dG9uVmFsdWUgPSBzcmNCdXR0b24uaW5uZXJIVE1MO1xyXG4gICAgICAgIGxldCBjbGVhckRhdGE6IHN0cmluZyB8IG51bGwgPSBzcmNCdXR0b24uZ2V0QXR0cmlidXRlKFwiZGF0YS1vcENsZWFyXCIpO1xyXG4gICAgICAgIGlmICgoc3JjQnV0dG9uVmFsdWUgPj0gXCIwXCIgJiYgc3JjQnV0dG9uVmFsdWUgPD0gXCI5XCIpIHx8IHNyY0J1dHRvblZhbHVlID09PSBcIi5cIilcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVOdW1iZXJCdXR0b25QcmVzc2VkKHNyY0J1dHRvblZhbHVlKTtcclxuICAgICAgICBlbHNlIGlmIChjbGVhckRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDbGVhcihjbGVhckRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZ2V0IHRoZSBkYXRhIHRoYXQga25vd3Mgd2hhdCBvcGVyYXRvciBidXR0b24gd2FzIHByZXNzZWQgXHJcbiAgICAgICAgICAgIHRoaXMub3BUeXBlSHRtbCA9IHNyY0J1dHRvblZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZU9wZXJhdG9yQnV0dG9uUHJlc3NlZChzcmNCdXR0b24uZ2V0QXR0cmlidXRlKFwiZGF0YS1vcFR5cGVcIiksIHNyY0J1dHRvblZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlT3BlcmF0b3JCdXR0b25QcmVzc2VkKG9wUHJlc3NlZDogc3RyaW5nIHwgbnVsbCwgaHRtbENvbnRlbnRPZk9wOiBzdHJpbmcpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5vcFByZXNzZWRDb3VudCsrO1xyXG5cclxuICAgICAgICBpZiAob3BQcmVzc2VkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJPcGVyYXRpb24gc2VsZWN0ZWQgaXMgbnVsbFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvcFByZXNzZWQgPT09IE9wZXJhdG9yVHlwZS5FcXVhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXB1dGVUb3RhbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZUxlZnRGb3JTdW1tYXJ5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3UGlwZWxpbmUodHJ1ZSwgaHRtbENvbnRlbnRPZk9wKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSBpZiAob3BQcmVzc2VkID09IE9wZXJhdG9yVHlwZS5QbHVzTWludXMpIHtcclxuICAgICAgICAgICAgdGhpcy5vcFByZXNzZWRDb3VudC0tO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVBsdXNNaW51c0Nhc2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcFR5cGUgPT09IE9wZXJhdG9yVHlwZS5Ob25lKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3BUeXBlID0gPE9wZXJhdG9yVHlwZT5vcFByZXNzZWQ7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeURpc3BsYXkoaHRtbENvbnRlbnRPZk9wKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZVRvdGFsKCk7XHJcbiAgICAgICAgICAgIHRoaXMub3BUeXBlID0gPE9wZXJhdG9yVHlwZT5vcFByZXNzZWQ7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlld1BpcGVsaW5lKGZhbHNlLCBodG1sQ29udGVudE9mT3ApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlVmlld1BpcGVsaW5lKGNhbkNsZWFyU3VtbWFyeURpc3BsYXk6IGJvb2xlYW4sIGh0bWxDb250ZW50T2ZPcDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGNhbkNsZWFyU3VtbWFyeURpc3BsYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhclN1bW1hcnlEaXNwbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnlEaXNwbGF5KGh0bWxDb250ZW50T2ZPcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUxlZnRBbmRSaWdodFZhbHVlcygpO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVJlc3VsdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlUGx1c01pbnVzQ2FzZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kb20ucmVzdWx0RGlzcGxheSA9PT0gbnVsbCB8fCB0aGlzLmRvbS5yZXN1bHREaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImhhbmRsZVBsdXNNaW51c0Nhc2UoKTogVW5hYmxlIHRvIGZpbmQgcmVzdWx0cyBkaXNwbGF5XCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY3VycmVudERpc3BsYXkgPSB0aGlzLmRvbS5yZXN1bHREaXNwbGF5LmlubmVySFRNTDtcclxuICAgICAgICBsZXQgY29udmVydGVkVG9OdW1iZXIgPSBOdW1iZXIoY3VycmVudERpc3BsYXkpXHJcbiAgICAgICAgbGV0IHBtUmVzdWx0ID0gdGhpcy5vcHMucGx1c01pbnVzKGNvbnZlcnRlZFRvTnVtYmVyKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudXNlTGVmdEZvclN1bW1hcnkpIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0QXNTdHJpbmcgPSBwbVJlc3VsdC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodEFzU3RyaW5nID0gcG1SZXN1bHQudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZG9tLnJlc3VsdERpc3BsYXkuaW5uZXJIVE1MID0gcG1SZXN1bHQudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbXB1dGVUb3RhbCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxlZnQgPSBOdW1iZXIodGhpcy5sZWZ0QXNTdHJpbmcpO1xyXG4gICAgICAgIHRoaXMucmlnaHQgPSBOdW1iZXIodGhpcy5yaWdodEFzU3RyaW5nKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubGVmdCA9PT0gMCAmJiB0aGlzLnJpZ2h0ID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5vcFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAoT3BlcmF0b3JUeXBlLk5vbmUpOiB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIChPcGVyYXRvclR5cGUuQWRkKToge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMub3BzLmFkZCh0aGlzLmxlZnQsIHRoaXMucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAoT3BlcmF0b3JUeXBlLlN1YnRyYWN0KToge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMub3BzLnN1YnRyYWN0KHRoaXMubGVmdCwgdGhpcy5yaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIChPcGVyYXRvclR5cGUuTXVsdGlwbHkpOiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5vcHMubXVsdGlwbHkodGhpcy5sZWZ0LCB0aGlzLnJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgKE9wZXJhdG9yVHlwZS5EaXZpZGUpOiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5vcHMuZGl2aWRlKHRoaXMubGVmdCwgdGhpcy5yaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE9wZXJhdG9yICR7dGhpcy5vcFR5cGV9IGlzIG5vdCBkZWZpbmVkYCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRyaW1tZWREaXNwbGF5KHN0cmluZ1RvVHJpbTogc3RyaW5nLCBub09mUGxhY2VzVG9LZWVwOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gc3RyaW5nVG9UcmltLnN1YnN0cigwLCBub09mUGxhY2VzVG9LZWVwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlSZXN1bHQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLnJlc3VsdERpc3BsYXkgIT09IG51bGwgJiYgdGhpcy5kb20ucmVzdWx0RGlzcGxheSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLnJlc3VsdERpc3BsYXkudGV4dENvbnRlbnQgPSB0aGlzLnRyaW1tZWREaXNwbGF5KGAke3RoaXMudG90YWx9YCwgTWF4RGlzcGxheUxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheUxlZnQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLnJlc3VsdERpc3BsYXkgIT09IG51bGwgJiYgdGhpcy5kb20ucmVzdWx0RGlzcGxheSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLnJlc3VsdERpc3BsYXkudGV4dENvbnRlbnQgPSB0aGlzLnRyaW1tZWREaXNwbGF5KHRoaXMubGVmdEFzU3RyaW5nLCBNYXhEaXNwbGF5TGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5UmlnaHQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLnJlc3VsdERpc3BsYXkgIT09IG51bGwgJiYgdGhpcy5kb20ucmVzdWx0RGlzcGxheSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLnJlc3VsdERpc3BsYXkudGV4dENvbnRlbnQgPSB0aGlzLnRyaW1tZWREaXNwbGF5KHRoaXMucmlnaHRBc1N0cmluZywgTWF4RGlzcGxheUxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJTdW1tYXJ5RGlzcGxheSgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLnN1bW1hcnlEaXNwbGF5ID09PSBudWxsIHx8IHRoaXMuZG9tLnN1bW1hcnlEaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGVja1N1bW1hcnlEaXNwbGF5Rm9yTnVsbE9yVW5kZWZpbmVkKCk6IFN1bW1hcnkgZGlzcGxheSBpcyBudWxsIG9yIHVuZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLnN1bW1hcnlEaXNwbGF5LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMudXNlTGVmdEZvclN1bW1hcnkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLm9wUHJlc3NlZENvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVTdW1tYXJ5RGlzcGxheShvcFByZXNzZWRIdG1sOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kb20uc3VtbWFyeURpc3BsYXkgPT09IG51bGwgfHwgdGhpcy5kb20uc3VtbWFyeURpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIHBvcHVsYXRlIHN1bW1hcnkgdmFsdWVcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wUHJlc3NlZENvdW50ID4gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRpYWxTdW1tYXJ5RGlzcGxheVVwZGF0ZShvcFByZXNzZWRIdG1sKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudXNlTGVmdEZvclN1bW1hcnkpIHtcclxuICAgICAgICAgICAgdGhpcy5mdWxsTGVmdFN1bW1hcnlEaXNwbGF5VXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudXNlTGVmdEZvclN1bW1hcnkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnVsbFJpZ2h0U3VtbWFyeURpc3BsYXlVcGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmdWxsTGVmdFN1bW1hcnlEaXNwbGF5VXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmRvbS5zdW1tYXJ5RGlzcGxheSA9PT0gbnVsbCB8fCB0aGlzLmRvbS5zdW1tYXJ5RGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJmdWxsU3VtbWFyeURpc3BsYXlVcGRhdGUoKTogVW5hYmxlIHRvIGRvIGEgZnVsbCBzdW1tYXJ5IGRpc3BsYXkgdXBkYXRlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZG9tLnN1bW1hcnlEaXNwbGF5LmlubmVySFRNTCArPSB0aGlzLmxlZnRBc1N0cmluZyArIFwiIFwiICsgdGhpcy5vcFR5cGVIdG1sICsgXCIgXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmdWxsUmlnaHRTdW1tYXJ5RGlzcGxheVVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kb20uc3VtbWFyeURpc3BsYXkgPT09IG51bGwgfHwgdGhpcy5kb20uc3VtbWFyeURpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiZnVsbFN1bW1hcnlEaXNwbGF5VXBkYXRlKCk6IFVuYWJsZSB0byBkbyBhIGZ1bGwgc3VtbWFyeSBkaXNwbGF5IHVwZGF0ZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRvbS5zdW1tYXJ5RGlzcGxheS5pbm5lckhUTUwgKz0gdGhpcy5yaWdodEFzU3RyaW5nICsgXCIgXCIgKyB0aGlzLm9wVHlwZUh0bWwgKyBcIiBcIjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBhcnRpYWxTdW1tYXJ5RGlzcGxheVVwZGF0ZShvcFByZXNzZWRIdG1sOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kb20uc3VtbWFyeURpc3BsYXkgPT09IG51bGwgfHwgdGhpcy5kb20uc3VtbWFyeURpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwicGFydGlhbFN1bW1hcnlEaXNwbGF5VXBkYXRlKCk6IFVuYWJsZSB0byBkbyBhIHBhcnRpYWwgc3VtbWFyeSBkaXNwbGF5IHVwZGF0ZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVwbGFjZWQgPSB0aGlzLnJlcGxhY2VMYXN0RGlzcGxheWVkT3BlcmF0b3JXaXRoQ3VycmVudE9uZSh0aGlzLmRvbS5zdW1tYXJ5RGlzcGxheS5pbm5lckhUTUwsIG9wUHJlc3NlZEh0bWwpO1xyXG4gICAgICAgIHRoaXMuZG9tLnN1bW1hcnlEaXNwbGF5LmlubmVySFRNTCA9IHJlcGxhY2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVwbGFjZUxhc3REaXNwbGF5ZWRPcGVyYXRvcldpdGhDdXJyZW50T25lKHZhbHVlVG9Nb2RpZnk6IHN0cmluZywgcmVwbGFjZW1lbnRWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgY3VycmVudERpc3BsYXkgPSBTdHJpbmdVdGlsaXR5LnJlcGxhY2VBdCh2YWx1ZVRvTW9kaWZ5LCByZXBsYWNlbWVudFZhbHVlLCB2YWx1ZVRvTW9kaWZ5Lmxlbmd0aCAtIDIpO1xyXG4gICAgICAgIHJldHVybiBjdXJyZW50RGlzcGxheTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUxlZnRBbmRSaWdodFZhbHVlcygpIHtcclxuICAgICAgICB0aGlzLmxlZnRBc1N0cmluZyA9IHRoaXMudG90YWwudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLnRvdGFsO1xyXG4gICAgICAgIHRoaXMucmlnaHRBc1N0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IDA7XHJcbiAgICAgICAgdGhpcy5vcFByZXNzZWRDb3VudCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVOdW1iZXJCdXR0b25QcmVzc2VkKHByZXNzZWROdW1iZXI6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub3BQcmVzc2VkQ291bnQgPSAwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5sZWZ0QXNTdHJpbmcgPT09IFwiXCIgfHwgdGhpcy5vcFR5cGUgPT09IE9wZXJhdG9yVHlwZS5Ob25lKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdEFzU3RyaW5nICs9IHByZXNzZWROdW1iZXI7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUxlZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHRBc1N0cmluZyArPSBwcmVzc2VkTnVtYmVyO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlSaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGFuZGxlQ2xlYXIoY2xlYXJEYXRhOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNsZWFyRGF0YSA9PT0gPE9wZXJhdG9yVHlwZT5PcGVyYXRvclR5cGUuQ2xlYXJBbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhclN1bW1hcnlBbmRSZXN1bHREaXNwbGF5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNsZWFyRGF0YSA9PT0gPE9wZXJhdG9yVHlwZT5PcGVyYXRvclR5cGUuQ2xlYXJFbnRyeSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyUmVzdWx0RGlzcGxheSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjbGVhckRhdGEgPT09IDxPcGVyYXRvclR5cGU+T3BlcmF0b3JUeXBlLkJhY2tzcGFjZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1CYWNrc3BhY2VPbkN1cnJlbnRFbnRyeSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJTdW1tYXJ5QW5kUmVzdWx0RGlzcGxheSgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLnN1bW1hcnlEaXNwbGF5ID09PSBudWxsIHx8XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLnN1bW1hcnlEaXNwbGF5ID09PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgdGhpcy5kb20ucmVzdWx0RGlzcGxheSA9PT0gbnVsbCB8fFxyXG4gICAgICAgICAgICB0aGlzLmRvbS5yZXN1bHREaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImNsZWFyU3VtbWFyeUFuZFJlc3VsdERpc3BsYXkoKTogc3VtbWFyeURpc3BsYXkgb3IgcmVzdWx0RGlzcGxheSBpcyBudWxsIG9yIHVuZGVmaW5lZCAoYmxlaClcIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRvbS5zdW1tYXJ5RGlzcGxheS5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICAgICAgdGhpcy5kb20ucmVzdWx0RGlzcGxheS5pbm5lckhUTUwgPSBcIjBcIlxyXG5cclxuICAgICAgICB0aGlzLmxlZnRBc1N0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLnJpZ2h0QXNTdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMucmlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMudXNlTGVmdEZvclN1bW1hcnkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub3BQcmVzc2VkQ291bnQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJSZXN1bHREaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmRvbS5yZXN1bHREaXNwbGF5ID09PSBudWxsIHx8XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLnJlc3VsdERpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiY2xlYXJSZXN1bHREaXNwbGF5KCk6IHJlc3VsdERpc3BsYXkgaXMgbnVsbCBvciB1bmRlZmluZWQgKGJsZWgpXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kb20ucmVzdWx0RGlzcGxheS5pbm5lckhUTUwgPSBcIjBcIlxyXG4gICAgICAgIHRoaXMucmlnaHRBc1N0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwZXJmb3JtQmFja3NwYWNlT25DdXJyZW50RW50cnkoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLnJlc3VsdERpc3BsYXkgPT09IG51bGwgfHxcclxuICAgICAgICAgICAgdGhpcy5kb20ucmVzdWx0RGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJwZXJmb3JtQmFja3NwYWNlT25DdXJyZW50RW50cnkoKTogcmVzdWx0RGlzcGxheSBpcyBudWxsIG9yIHVuZGVmaW5lZCAoYmxlaClcIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLnJlc3VsdERpc3BsYXkuaW5uZXJIVE1MLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmRvbS5yZXN1bHREaXNwbGF5LmlubmVySFRNTCA9IFwiMFwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VMZWZ0Rm9yU3VtbWFyeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QXNTdHJpbmcgPSBcIjBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRBc1N0cmluZyA9IFwiMFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjdXJyZW50UmVzdWx0ID0gdGhpcy5kb20ucmVzdWx0RGlzcGxheS5pbm5lckhUTUw7XHJcbiAgICAgICAgbGV0IGJhY2tzcGFjZWRSZXN1bHQgPSBTdHJpbmdVdGlsaXR5LnJlcGxhY2VBdChjdXJyZW50UmVzdWx0LCBcIlwiLCBjdXJyZW50UmVzdWx0Lmxlbmd0aCAtIDEpLnRyaW0oKTtcclxuICAgICAgICBpZiAodGhpcy51c2VMZWZ0Rm9yU3VtbWFyeSkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRBc1N0cmluZyA9IGJhY2tzcGFjZWRSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0QXNTdHJpbmcgPSBiYWNrc3BhY2VkUmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRvbS5yZXN1bHREaXNwbGF5LmlubmVySFRNTCA9IGJhY2tzcGFjZWRSZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0UmVzdWx0VG9aZXJvKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmRvbS5yZXN1bHREaXNwbGF5ID09PSBudWxsIHx8XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLnJlc3VsdERpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaW5pdFJlc3VsdFRvWmVybygpOiByZXN1bHREaXNwbGF5IGlzIG51bGwgb3IgdW5kZWZpbmVkIChibGVoKVwiKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZG9tLnJlc3VsdERpc3BsYXkuaW5uZXJIVE1MID0gXCIwXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5jYWNoZURvbSgpO1xyXG4gICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgICAgIHRoaXMuaW5pdFJlc3VsdFRvWmVybygpO1xyXG4gICAgfVxyXG59XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IG1haW4gPSBuZXcgTWFpblZpZXcoKTtcclxuICAgIG1haW4uaW5pdCgpXHJcbn0oKSk7Il19"}