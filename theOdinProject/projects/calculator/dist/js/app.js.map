{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/Ops.ts","src/ts/app.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { IOps } from \"./interfaces/IOps\";\r\n\r\nclass Ops implements IOps {\r\n    add(x: number, y: number): number {\r\n        return x + y;\r\n    }\r\n    subtract(x: number, y: number): number {\r\n        return x - y;\r\n    }\r\n    multiply(x: number, y: number): number {\r\n        return x * y;\r\n    }\r\n    divide(x: number, y: number): number {\r\n        if (y === 0) return 0;\r\n        return x / y;\r\n    }\r\n    negate(x: number): number {\r\n        return (-1) * x;\r\n    }\r\n}\r\n\r\nexport default Ops;","import Ops from \"./Ops\";\r\n\r\nenum OperatorType {\r\n    None = \"\",\r\n    Add = \"Add\",\r\n    Subtract = \"Subtract\",\r\n    Multiply = \"Multiply\",\r\n    Divide = \"Divide\",\r\n    Negate = \"Negate\",\r\n    Equal = \"Equal\"\r\n}\r\n\r\nclass Dom {\r\n    buttonContainer: HTMLElement | null | undefined;\r\n    addButton: HTMLButtonElement | null | undefined;\r\n    subtractButton: HTMLButtonElement | null | undefined;\r\n    multiplyButton: HTMLButtonElement | null | undefined;\r\n    divideButton: HTMLButtonElement | null | undefined;\r\n    negateButton: HTMLButtonElement | null | undefined;\r\n    equalButton: HTMLButtonElement | null | undefined;\r\n    result: HTMLElement | null | undefined;\r\n}\r\n\r\nclass MainView {\r\n\r\n    clickEvent: string = \"click\";\r\n    buttonContainer: string = \".btn-container\";\r\n    addButton: string = \"btn-add\";\r\n    subtractButton: string = \"btn-sub\";\r\n    multiplyButton: string = \"btn-mul\";\r\n    divideButton: string = \"btn-div\";\r\n    negateButton: string = \"btn-negate\";\r\n    equalButton: string = \"btn-equal\";\r\n    resultToPrint: string = \"result\";\r\n\r\n    left: number = 0;\r\n    right: number = 0;\r\n    total: number = 0;\r\n    opType: OperatorType = OperatorType.None;\r\n\r\n    private dom: Dom = new Dom();\r\n    private ops: Ops = new Ops();\r\n\r\n    private cacheDom(): void {\r\n        this.dom.buttonContainer = <HTMLElement>document.querySelector(this.buttonContainer);\r\n        this.dom.result = <HTMLElement>document.getElementById(this.resultToPrint);\r\n    }\r\n\r\n    public bindEvents() {\r\n        if (this.dom.buttonContainer !== null && this.dom.buttonContainer !== undefined) {\r\n            this.dom.buttonContainer.addEventListener(this.clickEvent, this.handleBtnContainerClick);\r\n        }\r\n    }\r\n\r\n    public handleBtnContainerClick = (event: Event): void => {\r\n        // had to do the event handler this way in order to pass along the correct 'this'\r\n        //  context to it\r\n        // see: https://stackoverflow.com/questions/18423410/typescript-retain-scope-in-event-listener\r\n        let srcButton = <HTMLButtonElement>event.srcElement;\r\n        if (srcButton === null || srcButton === undefined) {\r\n            console.error(\"Can't find the button that was clicked\");\r\n            return;\r\n        }\r\n\r\n        let srcButtonValue = srcButton.innerHTML;\r\n\r\n        if (srcButtonValue >= \"0\" && srcButtonValue <= \"9\")\r\n            this.handleNumberButtonPressed(srcButtonValue);\r\n        else {\r\n            // get the data that knows what operator button was pressed \r\n            this.handleOperatorButtonPressed(srcButton.getAttribute(\"data-opType\"));\r\n        };\r\n    }\r\n\r\n    private handleOperatorButtonPressed(opPressed: string | null): void {\r\n\r\n        if (opPressed === null) {\r\n            console.error(\"Operation selected is null\");\r\n            return;\r\n        }\r\n\r\n        else if (this.opType === \"\") {\r\n            this.opType = <OperatorType>opPressed;\r\n        }\r\n        else {\r\n            this.computeTotal();\r\n            this.opType = <OperatorType>opPressed;\r\n        }\r\n    }\r\n\r\n    private computeTotal(): void {\r\n\r\n        switch (this.opType) {\r\n            case (OperatorType.Add): {\r\n                this.total = this.ops.add(this.left, this.right);\r\n                break;\r\n            }\r\n            case (OperatorType.Subtract): {\r\n                this.total = this.ops.subtract(this.left, this.right);\r\n                break;\r\n            }\r\n            case (OperatorType.Multiply): {\r\n                this.total = this.ops.multiply(this.left, this.right);\r\n                break;\r\n            }\r\n            case (OperatorType.Divide): {\r\n                this.total = this.ops.divide(this.left, this.right);\r\n                break;\r\n            }\r\n            default: {\r\n                console.log(`Operator ${this.opType} is not defined`);\r\n            }\r\n        }\r\n\r\n        this.updateLeftAndRightValues();\r\n\r\n        if (this.dom.result !== null && this.dom.result !== undefined)\r\n            this.dom.result.textContent = `computing total for left:${this.left} right:${this.right}, op:${this.opType} TOTAL = ${this.total}`;\r\n    }\r\n\r\n    private updateLeftAndRightValues() {\r\n        this.left = this.total;\r\n        this.right = 0;\r\n    }\r\n\r\n    private handleNumberButtonPressed(pressedNumber: string): void {\r\n\r\n        let parsedValue = Number.parseInt(pressedNumber);\r\n        if (this.left === 0) {\r\n            this.left = parsedValue;\r\n        }\r\n        else {\r\n            this.right = parsedValue;\r\n        }\r\n        console.log(pressedNumber);\r\n    }\r\n\r\n    public init() {\r\n        this.cacheDom();\r\n        this.bindEvents();\r\n    }\r\n}\r\n\r\n(function () {\r\n    let main = new MainView();\r\n    console.log(main);\r\n    main.init()\r\n}());"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvT3BzLnRzIiwic3JjL3RzL2FwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDRUE7SUFDSSxHQUFHLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxRQUFRLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxRQUFRLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxNQUFNLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNqQixDQUFDO0lBQ0QsTUFBTSxDQUFDLENBQVM7UUFDWixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEIsQ0FBQztDQUNKO0FBRUQsa0JBQWUsR0FBRyxDQUFDOzs7Ozs7O0FDckJuQixnREFBd0I7QUFFeEIsSUFBSyxZQVFKO0FBUkQsV0FBSyxZQUFZO0lBQ2IseUJBQVMsQ0FBQTtJQUNULDJCQUFXLENBQUE7SUFDWCxxQ0FBcUIsQ0FBQTtJQUNyQixxQ0FBcUIsQ0FBQTtJQUNyQixpQ0FBaUIsQ0FBQTtJQUNqQixpQ0FBaUIsQ0FBQTtJQUNqQiwrQkFBZSxDQUFBO0FBQ25CLENBQUMsRUFSSSxZQUFZLEtBQVosWUFBWSxRQVFoQjtBQUVEO0NBU0M7QUFFRDtJQUFBO1FBRUksZUFBVSxHQUFXLE9BQU8sQ0FBQztRQUM3QixvQkFBZSxHQUFXLGdCQUFnQixDQUFDO1FBQzNDLGNBQVMsR0FBVyxTQUFTLENBQUM7UUFDOUIsbUJBQWMsR0FBVyxTQUFTLENB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LEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNqRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsV0FBVyxDQUFDO1NBQzNCO2FBQ0k7WUFDRCxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQztTQUM1QjtRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLElBQUk7UUFDUCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3RCLENBQUM7Q0FDSjtBQUVELENBQUM7SUFDRyxJQUFJLElBQUksR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO0lBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFBO0FBQ2YsQ0FBQyxFQUFFLENBQUMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IElPcHMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL0lPcHNcIjtcclxuXHJcbmNsYXNzIE9wcyBpbXBsZW1lbnRzIElPcHMge1xyXG4gICAgYWRkKHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4geCArIHk7XHJcbiAgICB9XHJcbiAgICBzdWJ0cmFjdCh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHggLSB5O1xyXG4gICAgfVxyXG4gICAgbXVsdGlwbHkoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB4ICogeTtcclxuICAgIH1cclxuICAgIGRpdmlkZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHkgPT09IDApIHJldHVybiAwO1xyXG4gICAgICAgIHJldHVybiB4IC8geTtcclxuICAgIH1cclxuICAgIG5lZ2F0ZSh4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAoLTEpICogeDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgT3BzOyIsImltcG9ydCBPcHMgZnJvbSBcIi4vT3BzXCI7XHJcblxyXG5lbnVtIE9wZXJhdG9yVHlwZSB7XHJcbiAgICBOb25lID0gXCJcIixcclxuICAgIEFkZCA9IFwiQWRkXCIsXHJcbiAgICBTdWJ0cmFjdCA9IFwiU3VidHJhY3RcIixcclxuICAgIE11bHRpcGx5ID0gXCJNdWx0aXBseVwiLFxyXG4gICAgRGl2aWRlID0gXCJEaXZpZGVcIixcclxuICAgIE5lZ2F0ZSA9IFwiTmVnYXRlXCIsXHJcbiAgICBFcXVhbCA9IFwiRXF1YWxcIlxyXG59XHJcblxyXG5jbGFzcyBEb20ge1xyXG4gICAgYnV0dG9uQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XHJcbiAgICBhZGRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuICAgIHN1YnRyYWN0QnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XHJcbiAgICBtdWx0aXBseUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gICAgZGl2aWRlQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XHJcbiAgICBuZWdhdGVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcclxuICAgIGVxdWFsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XHJcbiAgICByZXN1bHQ6IEhUTUxFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuY2xhc3MgTWFpblZpZXcge1xyXG5cclxuICAgIGNsaWNrRXZlbnQ6IHN0cmluZyA9IFwiY2xpY2tcIjtcclxuICAgIGJ1dHRvbkNvbnRhaW5lcjogc3RyaW5nID0gXCIuYnRuLWNvbnRhaW5lclwiO1xyXG4gICAgYWRkQnV0dG9uOiBzdHJpbmcgPSBcImJ0bi1hZGRcIjtcclxuICAgIHN1YnRyYWN0QnV0dG9uOiBzdHJpbmcgPSBcImJ0bi1zdWJcIjtcclxuICAgIG11bHRpcGx5QnV0dG9uOiBzdHJpbmcgPSBcImJ0bi1tdWxcIjtcclxuICAgIGRpdmlkZUJ1dHRvbjogc3RyaW5nID0gXCJidG4tZGl2XCI7XHJcbiAgICBuZWdhdGVCdXR0b246IHN0cmluZyA9IFwiYnRuLW5lZ2F0ZVwiO1xyXG4gICAgZXF1YWxCdXR0b246IHN0cmluZyA9IFwiYnRuLWVxdWFsXCI7XHJcbiAgICByZXN1bHRUb1ByaW50OiBzdHJpbmcgPSBcInJlc3VsdFwiO1xyXG5cclxuICAgIGxlZnQ6IG51bWJlciA9IDA7XHJcbiAgICByaWdodDogbnVtYmVyID0gMDtcclxuICAgIHRvdGFsOiBudW1iZXIgPSAwO1xyXG4gICAgb3BUeXBlOiBPcGVyYXRvclR5cGUgPSBPcGVyYXRvclR5cGUuTm9uZTtcclxuXHJcbiAgICBwcml2YXRlIGRvbTogRG9tID0gbmV3IERvbSgpO1xyXG4gICAgcHJpdmF0ZSBvcHM6IE9wcyA9IG5ldyBPcHMoKTtcclxuXHJcbiAgICBwcml2YXRlIGNhY2hlRG9tKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZG9tLmJ1dHRvbkNvbnRhaW5lciA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuYnV0dG9uQ29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLmRvbS5yZXN1bHQgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5yZXN1bHRUb1ByaW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZEV2ZW50cygpIHtcclxuICAgICAgICBpZiAodGhpcy5kb20uYnV0dG9uQ29udGFpbmVyICE9PSBudWxsICYmIHRoaXMuZG9tLmJ1dHRvbkNvbnRhaW5lciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLmJ1dHRvbkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKHRoaXMuY2xpY2tFdmVudCwgdGhpcy5oYW5kbGVCdG5Db250YWluZXJDbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYW5kbGVCdG5Db250YWluZXJDbGljayA9IChldmVudDogRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICAvLyBoYWQgdG8gZG8gdGhlIGV2ZW50IGhhbmRsZXIgdGhpcyB3YXkgaW4gb3JkZXIgdG8gcGFzcyBhbG9uZyB0aGUgY29ycmVjdCAndGhpcydcclxuICAgICAgICAvLyAgY29udGV4dCB0byBpdFxyXG4gICAgICAgIC8vIHNlZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTg0MjM0MTAvdHlwZXNjcmlwdC1yZXRhaW4tc2NvcGUtaW4tZXZlbnQtbGlzdGVuZXJcclxuICAgICAgICBsZXQgc3JjQnV0dG9uID0gPEhUTUxCdXR0b25FbGVtZW50PmV2ZW50LnNyY0VsZW1lbnQ7XHJcbiAgICAgICAgaWYgKHNyY0J1dHRvbiA9PT0gbnVsbCB8fCBzcmNCdXR0b24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2FuJ3QgZmluZCB0aGUgYnV0dG9uIHRoYXQgd2FzIGNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzcmNCdXR0b25WYWx1ZSA9IHNyY0J1dHRvbi5pbm5lckhUTUw7XHJcblxyXG4gICAgICAgIGlmIChzcmNCdXR0b25WYWx1ZSA+PSBcIjBcIiAmJiBzcmNCdXR0b25WYWx1ZSA8PSBcIjlcIilcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVOdW1iZXJCdXR0b25QcmVzc2VkKHNyY0J1dHRvblZhbHVlKTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZ2V0IHRoZSBkYXRhIHRoYXQga25vd3Mgd2hhdCBvcGVyYXRvciBidXR0b24gd2FzIHByZXNzZWQgXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlT3BlcmF0b3JCdXR0b25QcmVzc2VkKHNyY0J1dHRvbi5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9wVHlwZVwiKSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZU9wZXJhdG9yQnV0dG9uUHJlc3NlZChvcFByZXNzZWQ6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgaWYgKG9wUHJlc3NlZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiT3BlcmF0aW9uIHNlbGVjdGVkIGlzIG51bGxcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3BUeXBlID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3BUeXBlID0gPE9wZXJhdG9yVHlwZT5vcFByZXNzZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXB1dGVUb3RhbCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9wVHlwZSA9IDxPcGVyYXRvclR5cGU+b3BQcmVzc2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbXB1dGVUb3RhbCgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLm9wVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIChPcGVyYXRvclR5cGUuQWRkKToge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMub3BzLmFkZCh0aGlzLmxlZnQsIHRoaXMucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAoT3BlcmF0b3JUeXBlLlN1YnRyYWN0KToge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMub3BzLnN1YnRyYWN0KHRoaXMubGVmdCwgdGhpcy5yaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIChPcGVyYXRvclR5cGUuTXVsdGlwbHkpOiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5vcHMubXVsdGlwbHkodGhpcy5sZWZ0LCB0aGlzLnJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgKE9wZXJhdG9yVHlwZS5EaXZpZGUpOiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5vcHMuZGl2aWRlKHRoaXMubGVmdCwgdGhpcy5yaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgT3BlcmF0b3IgJHt0aGlzLm9wVHlwZX0gaXMgbm90IGRlZmluZWRgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVMZWZ0QW5kUmlnaHRWYWx1ZXMoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZG9tLnJlc3VsdCAhPT0gbnVsbCAmJiB0aGlzLmRvbS5yZXN1bHQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5kb20ucmVzdWx0LnRleHRDb250ZW50ID0gYGNvbXB1dGluZyB0b3RhbCBmb3IgbGVmdDoke3RoaXMubGVmdH0gcmlnaHQ6JHt0aGlzLnJpZ2h0fSwgb3A6JHt0aGlzLm9wVHlwZX0gVE9UQUwgPSAke3RoaXMudG90YWx9YDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUxlZnRBbmRSaWdodFZhbHVlcygpIHtcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLnRvdGFsO1xyXG4gICAgICAgIHRoaXMucmlnaHQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlTnVtYmVyQnV0dG9uUHJlc3NlZChwcmVzc2VkTnVtYmVyOiBzdHJpbmcpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgbGV0IHBhcnNlZFZhbHVlID0gTnVtYmVyLnBhcnNlSW50KHByZXNzZWROdW1iZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmxlZnQgPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gcGFyc2VkVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gcGFyc2VkVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHByZXNzZWROdW1iZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuY2FjaGVEb20oKTtcclxuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgIH1cclxufVxyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBtYWluID0gbmV3IE1haW5WaWV3KCk7XHJcbiAgICBjb25zb2xlLmxvZyhtYWluKTtcclxuICAgIG1haW4uaW5pdCgpXHJcbn0oKSk7Il19"}